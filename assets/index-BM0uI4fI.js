(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();console.log("hello world");console.log("country explorer");const u=document.getElementById("searchBtn"),m=document.getElementById("searchInput"),i=document.getElementById("loader"),l=document.getElementById("error"),d=document.getElementById("countryDetails");let s;u.addEventListener("click",async()=>{const a=m.value.trim();a&&await p(a)});async function p(a){i.classList.remove("hidden"),l.classList.add("hidden"),d.innerHTML="";const n=document.getElementById("map");n.classList.add("hidden");try{const o=await(await fetch(`https://restcountries.com/v3.1/name/${a}?fullText=true`)).json(),e=o[0];if(!e)throw new Error("Invalid Country Name");const t=e.languages?Object.values(e.languages).join(","):"N/A";d.innerHTML=`
            <div class="p-4 border rounded shadow">
                <img src="${e.flags.svg}" alt="flag" class="w-32 mb-2">
                <h2 class="text-xl font-bold">${e.name.common}</h2>
                <p><strong>Capital : </strong>${e.capital}</p>
                <p><strong>Population : </strong>${e.population.toLocaleString()}</p>
                <p><strong>Languages : </strong>${t}</p>
            </div>
        `,n.classList.remove("hidden"),g(e.latlng,e.name.common),console.log(o)}catch(r){l.classList.remove("hidden"),l.textContent=r.message||"Failed to load the country information",s&&(s.remove(),s=null),document.getElementById("map").classList.add("hidden")}finally{i.classList.add("hidden")}}function g(a,n){const[r,o]=a;s?s.setView([r,o],5):(s=L.map("map").setView([r,o],5),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(s)),L.marker([r,o]).addTo(s).bindPopup(n).openPopup()}
